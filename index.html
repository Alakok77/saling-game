<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Start</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="overflow-hidden bg-gray-100">

    <div class="h-screen flex items-center justify-center">
        <button id="startBtn"
            class="relative z-10 bg-yellow-600 w-52 h-20 rounded-lg 
                   font-bold text-2xl text-white shadow-xl
                   transition-all duration-500 ease-in-out
                   hover:scale-110 hover:shadow-2xl hover:bg-yellow-300 hover:text-yellow-900">
            Start Game
        </button>
    </div>

<script>
document.addEventListener("DOMContentLoaded", function () {

    const btn = document.getElementById("startBtn");

    btn.addEventListener("click", () => {

        // ðŸ”Š à¹€à¸£à¸µà¸¢à¸à¹€à¸ªà¸µà¸¢à¸‡à¸ˆà¸²à¸ Flask
        fetch("/speak", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ text: "à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸à¸¡" })
        })
        .then(response => response.blob())
        .then(blob => {
            const url = URL.createObjectURL(blob);
            const audio = new Audio(url);
            audio.play();
        });

        // Animation
        btn.classList.remove("hover:scale-110");
        btn.classList.add("rounded-full");

        btn.classList.add(
            "fixed",
            "inset-0",
            "w-screen",
            "h-screen",
            "text-4xl",
            "duration-[1200ms]"
        );

        setTimeout(() => {
            btn.style.transition = "opacity 1s ease";
            btn.style.opacity = "0";
        }, 800);

        setTimeout(() => {
            window.location.href = "/game";
        }, 2000);

    });

});
</script>

</body>
</html>
